CREATE TABLE LEGO_SET
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY,
    NAME VARCHAR(30)
);

CREATE TABLE MANUAL
(
    id       BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY,
    LEGO_SET BIGINT,
    CONTENT  VARCHAR(2000)
);
ALTER TABLE MANUAL
    ADD FOREIGN KEY (LEGO_SET)
        REFERENCES LEGO_SET (id);

CREATE TABLE AUTHOR
(
    id       BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY,
    LEGO_SET BIGINT,
    NAME     VARCHAR(2000)
);
ALTER TABLE AUTHOR
    ADD FOREIGN KEY (LEGO_SET)
        REFERENCES LEGO_SET (id);

CREATE TABLE COLLECTION_OWNER
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY,
    NAME VARCHAR(30)
);

CREATE TABLE ID_LESS_INTERMEDIATE
(
    COLLECTION_OWNER BIGINT,
    COLLECTION_OWNER_KEY BIGINT,
    NAME  VARCHAR(2000)
);

CREATE TABLE ELEMENT
(
    id       BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY,
    COLLECTION_OWNER BIGINT,
    COLLECTION_OWNER_KEY BIGINT,
    id_less_intermediate_key BIGINT,
    NAME  VARCHAR(2000)
);